<!DOCTYPE html>
<html>
    <head>
        <title>the-session-context-and-summary-challenge</title>
        <meta charset='UTF-8'>
        <meta name='viewport' content='width=device-width, initial-scale=1.0'>
        <link rel='shortcut icon' type='image/x-icon' href='favicon.ico?'>
        <link rel='stylesheet' href='default.css'>
        <link rel='stylesheet' href='../intl/intlflg.css'>
        <!-- here begins the Javascript... why for the hell I got here? //-->
        <meta http-equiv='Content-Script-Type' content='text/javascript'>
        <link rel='stylesheet' href='ucustom.css' id='customStylesheet' media='screen'>
        <script>const cssdir='';</script note='global variable'>
        <script src='css-style-changer.js' defer></script>
        <link rel='stylesheet' href='printer.css' media='print'>
    </head>
    <body class=body>
<style>#printlink { display: inline; } @page { size: legal; margin: 0.50in 13.88mm 0.50in 13.88mm; zoom: 100%; } @media print { html { zoom: 100%; } }</style>
<p class='topbar'></p>
<div class='topbar' width='800px' translate='no'><b id='menu' onClick='nextStylesheet()'>&thinsp;&#9783;&thinsp;&Ropf;</b> &thinsp;&mdash;&thinsp; &#8543;&#8239;release: <b class='topbar'>2025-07-28&nbsp;<sup class='date-type topbar' id='datenote'>(&hairsp;<a href='#date-legenda' class='date-type topbar'>2</a>&hairsp;)</sup></b>  &thinsp;&mdash;&thinsp; rev.: <b class='topbar
'>10</b rev_num='
'> &thinsp;&mdash;&thinsp; transl.:&nbsp; <a class='topbar' href='https://robang74-github-io.translate.goog/chatbots-for-fun/html/the-session-context-and-summary-challenge?_x_tr_sl=en&_x_tr_tl=it&_x_tr_hl=it-IT&_x_tr_pto=wapp' target='_blank' rel='noopener noreferrer'>IT</a> &nbsp;<b>&middot;</b>&nbsp; <a class='topbar' href='https://robang74-github-io.translate.goog/chatbots-for-fun/html/the-session-context-and-summary-challenge?_x_tr_sl=en&_x_tr_tl=de&_x_tr_hl=de-DE&_x_tr_pto=wapp' target='_blank' rel='noopener noreferrer'>DE</a> &nbsp;<b>&middot;</b>&nbsp; <a class='topbar' href='https://robang74-github-io.translate.goog/chatbots-for-fun/html/the-session-context-and-summary-challenge?_x_tr_sl=en&_x_tr_tl=fr&_x_tr_hl=fr-FR&_x_tr_pto=wapp' target='_blank' rel='noopener noreferrer'>FR</a> &nbsp;<b>&middot;</b>&nbsp; <a class='topbar' href='https://robang74-github-io.translate.goog/chatbots-for-fun/html/the-session-context-and-summary-challenge?_x_tr_sl=en&_x_tr_tl=es&_x_tr_hl=es-ES&_x_tr_pto=wapp' target='_blank' rel='noopener noreferrer'>ES</a> &thinsp;&mdash;&thinsp; goto:&nbsp; <a class='topbar' href='../index.html#index'>.&#x27F0;.</a> &nbsp;<b>&middot;</b>&nbsp; <a class='topbar' href='../../roberto-a-foglietta/index.html'target=_blank>RAF</a> &nbsp;<b>&middot;</b>&nbsp; <a class='topbar' href='../../chatgpt-answered-prompts/index.html'target=_blank>Q&A</a> <span id='printlink'>&thinsp;&mdash;&thinsp; <b>âŽ™</b>&hairsp;: <a aria-label='print this page' class='topbar' href='javascript:window.print()'>PDF</a></span>&nbsp;</div>
<div id="firstdiv">
<p class='topbar'></p>
<div align="center"><img class="bwsketch darkinv" src="../img/the-session-context-and-summary-challenge.png" width="800"><br></div>
<p></p>
<H2 id="the-session-context-and-summary-challenge">The session context and summary challenge</H2>
<p></p>
<li><b>1st edition</b>, this article is written starting from Katia v0.9.32.8 framework <tt>[CSC]</tt> and <tt>[SBI]</tt> modules.</li>
<li><b>2nd edition</b>, includes the <a href="#developing-tools">Developing Tools</a> section from Katia v0.9.33.7 framework explanation.</li>
<p></p>
<hr>
<p></p>
<H3 id="introduction">Introduction</H3>
<p></p>
When it comes to "do a summary", this request is not handled very well in some chatbots and the main reason is quite simple: it is not a trivial task. In fact, also children in primary schools need to learn how to do it, and they are AGI-capable for their own nature.
<p></p>
For this reason, instructing a chatbot even with logical and lexical thinking capability is not an easy task but a challenge. It is even more complicated when the "summary" is not about a predetermined text but about providing a "brief answer" which implies having a focus about the context and user expectation awareness.
<p></p>
<hr>
<p></p>
<H3 id="rationale">Rationale</H3>
<p></p>
The <tt>[<a href="#sbi-module">SBI</a>]</tt> module in Katia is an attempt to provide a chatbot with a session-prompt level set of instructions about how to do a summary. While the [<a href="#csc-module"><tt>CSC</a></tt>] module in Katia is an attempt to speed-up the chatbot answer creation, instructing how to deal with user-expectation and with the focus within the chat session context.
<p></p>
The chat session context is created as a chat session between-prompt persistent data cache in which the AI is instructed to keep notes about what is matter. The <tt>[SBI]</tt> summarising process leverages the <tt>[CSC]</tt> while the <tt>[CSC]</tt> uses the <tt>[SBI]</tt> summary to progressively shrink its size.
<p></p>
Therefore, since Katia v0.9.30.4 implementation the two modules are mutually interdependent in how they work. Which is supposed to increase their efficiency and efficacy, thus improving performances (compared to the previous versions) and being more useful in assisting the users.
<p></p>
<hr>
<p></p>
<H3 id="proof-of-concept">Proof-of-Concept</H3>
<p></p>
Despite the session-prompt level is not the most efficient way to implements these features, for developing purposes and creating a human-readable proof-of-concept, it is the correct approch.
<p></p>
<li><tt>TFMK</tt> = "this framework"</li>
<li><tt>ATCT</tt> ~ "at the time of ( processing or activation )"</li>
<li><tt>UPPR</tt> = "only the procedural part of the ATCT user-prompt, never OCR( images )"</li>
<li><tt>[SBI]</tt> is an actionable mode and an available optional specific tool</li>
<li><tt>[IGN]</tt> and <tt>[ARK]</tt> are labels for <tt>[SOK]</tt> source of knownledge</li>
<li><tt>[EGA[</tt> and <tt>[PRO]</tt> are actionable modes</li>
<p></p>
In the next two sections, the Katia <a href="https://raw.githubusercontent.com/robang74/chatbots-for-fun/2adbb769288df15a193978f6c4960d509cc2a46a/data/katia-executive-grade-analysis-v1.md" target='_blank' rel='noopener noreferrer'>v0.9.32.8</a> implementations of <tt>[CSC]</tt> and <tt>[SBI]</tt> for reference, which use some definitions reported above. Performances tested over this article's intrductiion + rationale sections (1500c, 256w) are 1:2 for single-SBI (718c, 108w, 48%) and 1:5 for double-SBI (283c, 41w, 19%, 39%).
<p></p>
<hr class="post-it">
<p></p>
<span id="csc-module"></span>
<H4>Session Context [CSC]</H4>
<p></p>
<blockquote class="code mono"><code>
The first prompt in a chat is special because it has no [CSC] populated yet.<br>
In creating the [CSC] use an between-prompt persistent internal storage and<br>
update the [CSC] prompt after prompt. TFMK is always part of the UPPR, anyway.
<p></p>
The "csc-reset" marks all the [CSC] elements with [IGN] apart those DBLW:
<li>the ATCT in:User and most recent instances of ( [ARK] and UPPR ) elements;</li>
<li>remove all [IGN] contents, but grant their references remain [IGN] marked.</li>
<p></p>
The [CSC] can grow longer than the AI internal context-window size, thus these rules always apply:
<li>split the [CSC] into segments at natural breaks: sections, paragraphs, elements, etc</li>
<li>apply unique tags like <tt>{Title} (Paragraphs Y-Z)</tt> but never use line numbers as tags</li>
<li>process the [CSC] divided in contiguous overlapping groups of few segments</li>
<p></p>
Always refer to [CSC] for the answer preparation and elaboration, UUSO:
<li>newer information matters the most in how to handle the user request;</li>
<li>process older information with [SBI] to keep just their essentials.</li>
</code></blockquote>
<p></p>
<hr class="post-it">
<p></p>
<span id="sbi-module"></span>
<H4>Short but Insightful [SBI]</H4>
<p></p>
<blockquote class="code mono"><code>
The [SBI] mode uses [CSC] to understand what matters the most for the user,<br>
to keep only new insights and deliver the shortest sufficient answer.
<p></p>
Among many interpretations of in:User request, and ways to answer them,<br>
choose one combination which requires a short answer, UUSO. For example:
<li>do not explain an analysis when users are seeking only for issues</li>
or
<li>when issues are fewer, explain them and list gains or skip gains.</li>
It is not about generating alternatives but reasoning how to handle a request.
<p></p>
The [SBI] mode applies a second-stage output filter as last [mode] in DCOD, as DBLW:
<li>It is triggered by the session setting or within a specific context by keywords like:</li>
<li class='li2in'>be 'brief', 'short', 'concise'; avoid 'verbosity'; or equivalents in meaning.</li>
<li>It restructures the response to achieve conciseness, but</li>
<li class='li2in'>without altering the [FTR] at TEOF the ATCT response.</li>
<li>The content synthesis is DBLW, step-by-step:</li>
<li class='li2in'>highlight insightful links among concepts;</li>
<li class='li2in'>completely omit obvious parts and repetitions;</li>
<li class='li2in'>concisely summarise the remaining by rephrasing in a shorter form:</li>
<li class='li3in'>leverage [CSC] for finding references to replace or shorten explanations in answering;</li>
<li class='li3in'>within the [SBI] context search for conceptual analogies, reorganise and reunite them.</li>
<li>The summary output process is conditional:</li>
<li class='li2in'>IF( [PRO] ) THEN append the summary at TEOF the ATCT response;</li>
<li class='li2in'>ELSE provide only that summary to the DCOD.</li>
</code></blockquote>
<p></p>
<br>
<p></p>
<H2 id="developing-tools">Developing Tools</H2>
<p></p>
<blockquote><span class="warnicon spanicon">&nbsp;<svg class="warnicon svgicon" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path></svg><nobr class="alerts" translate="no">&nbsp;&nbsp;WARNING!&nbsp;&nbsp;</nobr></span><br><br><b>WORKING IN PROGRESS</b></blockquote>
<p></p>
Some activities are a constant in developing a session-prompt like applying changes or patches, and doing several checks about some specific qualities of the framework. When tasks are recurrent, they tend to reach a "default form" and get automated.
<p></p>
Which is exactly what happens also in this case with "<tt>sanity-check</tt>" and "<tt>update-check</tt>" tools. Plus, a softening rule gets into the scene because chatbots do their best-effort to fulfill user requests even when nothing serious is on the table.
<p></p>
For this reason, the framework instructs the AI to avoid bothering the developer with minor issues that can handle by itself alone and just complaining about major ones. Which are humorously labeled as 'dramas' because for the AI logic so they are, in fact.
<p></p>
In the next section, the Katia v0.9.33.7 implementations of rules for devels is presented.
<p></p>
<hr class="post-it">
<p></p>
<span id="dev-module"></span>
<H4>Rules for Devels</H4>
<p></p>
<blockquote class="code mono"><code>
Minor ambiguities about this framework (TFMK) interpretation should be:
<li>resolved in best-effort, once and kept within the same chat session (internal savings).</li>
<p></p>
The "sanity-check" is only about major {consistency, clarity, actionability} of TFMK rules.<br>
It activates by a version change of TFMK or by explicit user request, and it does as DBLW:
<li>create a theme-break section with the title: 'WARNING: debug sanity-check dramas list:';</li>
<li>actual issues, each with a one row description, shall be listed otherwise 'none, passed'.</li>
<p></p>
The "update-patch" is catived by a diff-format patch to TFMK, or by explicit user request,<br>
and it applies the patch (or changes) then does "sanity-check" on the new resulting TFMK.
</code></blockquote>
<p></p>
<br>
<p></p>
<H3 id="related-articles">Related articles</H3>
<p></p>
<li><a href="katia-k2-a-geopolitical-analysis-example.html#" target='_blank' rel='noopener noreferrer'>Katia/K2: a geopolitical analysis example</a> &nbsp; (2025-07-28)</li>
<p></p>
<li><a href="attenzione-e-contesto-nei-chatbot.html#" target='_blank' rel='noopener noreferrer'>Attenzione e contesto nei chatbot</a> &nbsp; (2025-07-20)</li>
<p></p>
<li><a href="gemini-as-your-personal-financial-advisor.html#" target='_blank' rel='noopener noreferrer'>Gemini as your personal financial advisor</a> &nbsp; (2025-07-13)</li>
<p></p>
<li><a href="gemini-as-your-personal-executive-assistant.html#" target='_blank' rel='noopener noreferrer'>Gemini as your personal executive assistant</a> &nbsp; (2025-07-11)</li>
<p></p>
<br>
<p></p>
<H3 id="share-alike">Share alike</H3>
<p></p>
<p>&copy; 2025, <b>Roberto A. Foglietta</b> &lt;roberto.foglietta<span>&commat;</span>gmail.com&gt;, <a href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target='_blank' rel='noopener noreferrer'>CC BY-NC-ND 4.0</a></p>
<p></p>
</div>
<p></p>
<p></p>
<div id='date-legenda' align='center' translate='no'><sub><hr></sub><sub><b>date legenda</b>: &#x2776; first draft publishing date or &#x2777; creation date in git, otherwise &#x2778; html creation page date. <u>&mapstoup;<a href='#' class='toplink' translate='no'>top</a>&mapstoup;</u></sub></div>
<br class='pagebreak'>
    </body>
</html>
